.panel.panel-default
	.panel-body
		.col-md-12
			- if params[:id]
				%h2
					Edit User
					- if @user.admin == true
						\- Master Admin
			- else
				%h2 Sign Up
			#sign-up-form.col-lg-4.col-md-6.col-sm-6
				/ Error Messages
				- if flash[:notice] && flash[:color] == "valid"
					.row.form-group
						.alert.alert-success{:role => "alert"}= flash[:notice]
				- elsif flash[:notice] && flash[:color] == "invalid"
					.row.form-group
						.alert.alert-warning{:role => "alert"}= flash[:notice]
				/ End Error Messages
				= form_for(@user, class:"form-horizontal", :role => "form", :html => {:multipart => true}) do |f|
					/ Form Portion
					.row.form-group
						= f.label :email, class:"control-label"
						= f.text_field :email, class:"form-control", placeholder: 'email@domain.com', :autofocus => true
					.row.form-group
						= f.label :username
						= f.text_field :username, class:"form-control", placeholder: 'username'
					/ avatar settings will only appear in user edit view
					- if params[:id]
						.row.form-group
							= f.label :avatar
							= f.text_field :avatar, class:"form-control"
					/ password and confirmation for new user vs. user edit
					- if params[:id] == nil
						.row.form-group
							= f.label :password
							= f.password_field :password, class:"form-control"
						#password-update-group.row.form-group
							= f.label :password_confirmation
							= f.password_field :password_confirmation, class:"form-control"
						.row.form-group
							%label
								%input{:type => "checkbox"}
								I agree to the
								%a{"data-target" => "#myModal", "data-toggle" => "modal"} terms of service
					.row.form-group.actions
						- if params[:id]
							= f.submit "Update", class:"btn btn-primary btn-lg"
							= link_to "Cancel", user_path(:id), class:"btn btn-default btn-lg"
						- else
							= f.submit "Register", class:"btn btn-primary btn-lg"
							%br/
							%br/
							%p
								Already signed up? #{link_to "Sign in", login_path}
			#sign-up-message.col-lg-8.col-md-6.col-sm-6
/ Modal
#myModal.modal.fade.bs-example-modal-md{"aria-hidden" => "true", "aria-labelledby" => "myMediumModalLabel", :role => "dialog", :tabindex => "-1"}
	.modal-dialog.modal-md
		= render partial: "/pages/terms"
		%button.btn.btn-default{"data-dismiss" => "modal", :type => "button"} Close
